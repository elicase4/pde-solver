add_executable(test_serial.exe serial.cpp)
target_link_libraries(test_serial.exe PRIVATE solvers)
add_test(NAME serial COMMAND test_serial)

add_executable(test_poisson_eq.exe poisson_eq.cpp)
target_link_libraries(test_poisson_eq.exe PRIVATE solvers)
add_test(NAME poisson_eq COMMAND test_poisson_eq)

if (ENABLE_OMP)
	add_executable(test_openmp.mexe openmp.cpp)
	target_link_libraries(test_openmp.mexe PRIVATE solvers)
	add_test(NAME openmp COMMAND test_openmp)
endif()

if (ENABLE_MPI)
	add_executable(test_mpi.mexe mpi.cpp)
	target_link_libraries(test_mpi.mexe PRIVATE solvers)
	add_test(NAME mpi COMMAND mpirun -np 4 test_mpi)
endif()

if (ENABLE_CUDA)
	add_executable(test_cuda.mexe cuda.cpp)
	target_link_libraries(test_cuda.mexe PRIVATE solvers)
	add_test(NAME cuda COMMAND test_cuda)
endif()
